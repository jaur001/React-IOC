{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport JsonPopulator from \"../../../utils/JsonPopulator\";\nimport { useDispatch } from \"react-redux\";\nimport { reactIocActionNames } from \"../../../redux/confiReducer/ReactIOCActions\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction populatePageStructure(pageStructure, components, functions, resources) {\n  const populatedPageStructure = { ...pageStructure\n  };\n  const data = { ...components,\n    ...functions,\n    ...resources\n  };\n  const newState = new JsonPopulator(data).populatePageStructure(populatedPageStructure);\n  return [newState, populatedPageStructure];\n}\n\nfunction ComponentLoader(props) {\n  _s();\n\n  const [loaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n  const [newState, pageStructure] = useMemo(() => populatePageStructure(props.pageStructure, props.components, props.functions, props.resources), [props.pageStructure, props.components, props.functions, props.resources]);\n  useEffect(() => {\n    if (!loaded) {\n      dispatch({\n        type: reactIocActionNames.populateState,\n        newState: newState\n      });\n      setLoaded(true);\n    }\n  }, [dispatch, newState]);\n  if (!loaded) return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  return pageStructure.render(pageStructure);\n}\n\n_s(ComponentLoader, \"V00opZLSWgH9+fhAF075mx5rUxw=\", false, function () {\n  return [useDispatch];\n});\n\n_c = ComponentLoader;\nexport default ComponentLoader;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComponentLoader\");","map":{"version":3,"names":["JsonPopulator","useDispatch","reactIocActionNames","useEffect","useMemo","useState","populatePageStructure","pageStructure","components","functions","resources","populatedPageStructure","data","newState","ComponentLoader","props","loaded","setLoaded","dispatch","type","populateState","render"],"sources":["C:/Development/Personal/React-IOC/react-ioc/src/components/ReactIOC/ComponentLoader/ComponentLoader.js"],"sourcesContent":["import JsonPopulator from \"../../../utils/JsonPopulator\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { reactIocActionNames } from \"../../../redux/confiReducer/ReactIOCActions\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nfunction populatePageStructure(pageStructure,components,functions,resources) {\r\n  const populatedPageStructure = {...pageStructure};\r\n  const data = {...components,...functions,...resources};\r\n  const newState = new JsonPopulator(data).populatePageStructure(populatedPageStructure);\r\n  return [newState, populatedPageStructure];\r\n}\r\n\r\nfunction ComponentLoader(props) {\r\n  const [loaded,setLoaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [newState, pageStructure] = useMemo(\r\n    () =>\r\n      populatePageStructure(\r\n        props.pageStructure,\r\n        props.components,\r\n        props.functions,\r\n        props.resources\r\n      ),\r\n    [props.pageStructure, props.components, props.functions, props.resources]\r\n  );\r\n  useEffect(() => {\r\n    if(!loaded){\r\n      dispatch({\r\n        type: reactIocActionNames.populateState,\r\n        newState: newState,\r\n      });\r\n      setLoaded(true);\r\n    }\r\n  }, [dispatch, newState]);\r\n  if (!loaded) return <></>;\r\n  return pageStructure.render(pageStructure);\r\n}\r\n\r\nexport default ComponentLoader;\r\n"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,8BAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,mBAAT,QAAoC,6CAApC;AACA,SAASC,SAAT,EAAoBC,OAApB,EAA6BC,QAA7B,QAA6C,OAA7C;;;;AAEA,SAASC,qBAAT,CAA+BC,aAA/B,EAA6CC,UAA7C,EAAwDC,SAAxD,EAAkEC,SAAlE,EAA6E;EAC3E,MAAMC,sBAAsB,GAAG,EAAC,GAAGJ;EAAJ,CAA/B;EACA,MAAMK,IAAI,GAAG,EAAC,GAAGJ,UAAJ;IAAe,GAAGC,SAAlB;IAA4B,GAAGC;EAA/B,CAAb;EACA,MAAMG,QAAQ,GAAG,IAAIb,aAAJ,CAAkBY,IAAlB,EAAwBN,qBAAxB,CAA8CK,sBAA9C,CAAjB;EACA,OAAO,CAACE,QAAD,EAAWF,sBAAX,CAAP;AACD;;AAED,SAASG,eAAT,CAAyBC,KAAzB,EAAgC;EAAA;;EAC9B,MAAM,CAACC,MAAD,EAAQC,SAAR,IAAqBZ,QAAQ,CAAC,KAAD,CAAnC;EACA,MAAMa,QAAQ,GAAGjB,WAAW,EAA5B;EACA,MAAM,CAACY,QAAD,EAAWN,aAAX,IAA4BH,OAAO,CACvC,MACEE,qBAAqB,CACnBS,KAAK,CAACR,aADa,EAEnBQ,KAAK,CAACP,UAFa,EAGnBO,KAAK,CAACN,SAHa,EAInBM,KAAK,CAACL,SAJa,CAFgB,EAQvC,CAACK,KAAK,CAACR,aAAP,EAAsBQ,KAAK,CAACP,UAA5B,EAAwCO,KAAK,CAACN,SAA9C,EAAyDM,KAAK,CAACL,SAA/D,CARuC,CAAzC;EAUAP,SAAS,CAAC,MAAM;IACd,IAAG,CAACa,MAAJ,EAAW;MACTE,QAAQ,CAAC;QACPC,IAAI,EAAEjB,mBAAmB,CAACkB,aADnB;QAEPP,QAAQ,EAAEA;MAFH,CAAD,CAAR;MAIAI,SAAS,CAAC,IAAD,CAAT;IACD;EACF,CARQ,EAQN,CAACC,QAAD,EAAWL,QAAX,CARM,CAAT;EASA,IAAI,CAACG,MAAL,EAAa,oBAAO,qCAAP;EACb,OAAOT,aAAa,CAACc,MAAd,CAAqBd,aAArB,CAAP;AACD;;GAxBQO,e;UAEUb,W;;;KAFVa,e;AA0BT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}